<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>My Profile</title>
<link rel="website icon" type="png" href="images/maya.png">
<link href="https://fonts.cdnfonts.com/css/caveat" rel="stylesheet">
<link href="https://fonts.cdnfonts.com/css/kreon" rel="stylesheet">
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Rubik:400,700'>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://kit.fontawesome.com/7f01a542af.js" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
<!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"/>
<link rel="stylesheet" href="stylesheets/profile.css">
</head>
<body style="background-image: url('images/standard-bg.png'); background-size: cover;background-repeat: no-repeat;">
  <div class="topnav">
    <div class="menu-toggle">
      <div class="bar"></div>
      <div class="bar"></div>
      <div class="bar"></div>
      <div class="bar"></div>
      </div>
    <a href="/UserDashboard"><img src="images/logo.png" height="60px" width="60px"></a>
    <a href="/UserDashboard"><img src="images/mayame.png" height="60px" width="190px"></a>
    <div class="menu">
      <a class="nav" href="/UserDashboard">Home</a>
      <a class="nav" href="/confirmoderinfo">Orders</a>
      <!-- The button or icon for opening the profile modal -->
      <div class="nav" onclick="openProfileModal()" style="font-size: 22px; cursor:pointer; float: right; margin:1.3% 3% 0 0;color:#976b35;">
        <i class="fas fa-user-circle fa-2x"></i>
      </div>
      <!-- Profile Modal -->
      <div id="profileModal" class="pmod">
        <div class="modal-contents">
          <span class="close" onclick="closeProfileModal()">&times;</span>
          <a  style="font-size: 20px;" class="prof" href="/profile">My Profile</a>
          <a  style="font-size: 20px;" class="prof" href="/confirmoderinfo">Orders</a>
          <a  style="font-size: 20px;" class="prof" href="/logout">Logout</a>
        </div>
      </div>
  
      <a class="nav" onclick="openCartModal()" style="margin: 0.8% 0 0 0;font-size: 19px;cursor: pointer;color: #976b35;float: right;"><i class="fas fa-shopping-cart fa-2x"></i><span id="cart-counter">0</span>
      </a>     
     <%- include('dietaryPreferences.ejs') %>
      <a class="nav" href="#" id="dietaryPreferencesNav" onclick="openDietaryModal()">Dietary Preferences</a>
    </div>
    <div class="side-menu">
      <a href="/UserDashboard">Home</a>
      <a href="/confirmorderinfo">Orders</a>
      <a href="#" id="dietaryPreferencesNav" onclick="openDietaryModal()">Dietary</a>
      <a href="#">Contact</a>
      <a href="/about">About</a>
      <a style="color: black;"  class="nav" onclick="openCartModal()">My Cart</i></a>
      <a href="/profile">My Profile</a>
      <a href="/logout">Logout</a>
    </div>
  </div>
  <div class="dashboard">
    <div class="dashboard-banner">
      <img src="images/long.jpg" alt=""/>
      <div class="banner-promo">
          <span><img class="logo" src="images/maya.png" alt="" height="330px"></span>  
    </div>
    <div class="cont">
      <div class="log">
        <a class="fbtns" href="/userMenu">Food Menu</a>
        <a class="fbtns" href="/userTrays">Party Trays</a>
        <a class="fbtns" href="/userMeals">Solo Meals</a>
      </div>
      </div>
    </div>
      </div>
  <main>
    <div class="profcard" >
       <!-- Button to trigger the modal -->
       <div class="uprof">
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#updateProfileModal">
          <i class="fa-solid fa-pen"></i>
        </button>
      </div>
      <h1 style="margin-top: 50px;">My Profile</h1>
      <div class="row">
        <!-- Display user information in a grid system -->
        <div class="col-md-6 prfle">
          <p style="font-weight: bold;color:black; font-size: 25px;"><%= userData.firstName %>&nbsp;<%= userData.lastName %></p>
          <p><%= userData.email %></p>
          <p><%= userData.address %></p>
          <p><%= userData.phoneNumber || 'Not provided' %></p>
        </div>
       
      </div>
    </div>
  </main>

  <!-- Update profile modal -->
  <div class="modal fade" id="updateProfileModal" tabindex="-1" role="dialog" aria-labelledby="updateProfileModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="updateProfileModalLabel">Update Profile</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <!-- Update profile form -->
          <form action="/profile" method="POST">
            <div class="form-group">
              <label for="firstName">First Name:</label>
              <input type="text" class="form-control" id="firstName" name="firstName" value="<%= userData.firstName %>" required>
            </div>
            <div class="form-group">
              <label for="lastName">Last Name:</label>
              <input type="text" class="form-control" id="lastName" name="lastName" value="<%= userData.lastName %>" required>
            </div>
            <div class="form-group">
              <label for="address">Address:</label>
              <input type="text" class="form-control" id="address" name="address" value="<%= userData.address || '' %>">
            </div>
            <div class="form-group">
              <label for="phoneNumber">Phone Number:</label>
              <input type="tel" class="form-control" id="phoneNumber" name="phoneNumber" value="<%= userData.phoneNumber || '' %>">
            </div>
            <div class="form-group">
              <label for="currentPassword">Current Password (for password change):</label>
              <input type="password" class="form-control" id="currentPassword" name="currentPassword">
            </div>
            <div class="form-group">
              <label for="newPassword">New Password:</label>
              <input type="password" class="form-control" id="newPassword" name="newPassword">
            </div>
            <button type="submit" class="btn btn-primary">Update Profile</button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <div class="cntr">
    <div class="lbls" style="margin:3% 0 0 1%;">
    <label class="fpu" for="">Menu and Prices</label>
    </div>
    <div>
    <div class="gallery">
    <img src="images/m1.jpg" alt="Image 1">
    <img src="images/m4.jpg" alt="Image 1">
    <img src="images/m2.jpg" alt="Image 1">
    <img src="images/m5.jpg" alt="Image 1">
    <img src="images/m3.jpg" alt="Image 1">
    <!-- Add more images as needed -->
    </div>
    
    <!-- Lightbox (hidden by default) -->
    <div class="lightbox" id="lightbox">
      <img src="" alt="Enlarged Image" class="lightbox-image">
    </div>
    </div>
    </div>
    <div class="container">
    <div class="lbls" style="margin-top: 5%;">
      <label class="fpu" for="">Store Location</label>
     </div>
    <div class="card-maps">   
        <div>
          <img class="map-img"  src="images/mam.png" alt="">
        </div>
          <div>
              <iframe class="gmap" src="https://www.google.com/maps/embed?pb=!1m17!1m12!1m3!1d15473.095439622592!2d121.50914925672969!3d14.178731599845047!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m2!1m1!2zMTTCsDEwJzU1LjkiTiAxMjHCsDMwJzM2LjAiRQ!5e0!3m2!1sen!2sus!4v1701578225488!5m2!1sen!2sus" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe> 
           </div>
    </div>
    </div>
    <div class="cntr">
    
    <footer class="text-white text-center text-lg-start" style="background-color: #C69B68;">
      <!-- Grid container -->
      <div class="p-5">
      
      <!--Grid row-->
      
      <div class="row mt-4">
        <div class="col-lg-1 col-md-6 mb-4 mb-md-0"></div>
        <!--Grid column-->
        <div class="col-lg-3 col-md-12 mb-4 mb-md-0">
        <h5 class="text-uppercase mb-4">About company</h5>
    
        <label style="color: white;">
          Thank you for choosing Maya&Me Services for your food ordering needs. We're here to satisfy your cravings, one delicious meal at a time. Enjoy your meal and have a wonderful day!
        </label>
    
        <div class="mt-4">
          <!-- Facebook -->
          <a type="button" class="btn btn-floating btn-warning btn-lg"><i class="fab fa-facebook-f"></i></a>
          <!-- Dribbble -->
          <a type="button" class="btn btn-floating btn-warning btn-lg"><i class="fab fa-dribbble"></i></a>
          <!-- Twitter -->
          <a type="button" class="btn btn-floating btn-warning btn-lg"><i class="fab fa-twitter"></i></a>
          <!-- Google + -->
          <a type="button" class="btn btn-floating btn-warning btn-lg"><i class="fab fa-google-plus-g"></i></a>
          <!-- Linkedin -->
        </div>
        </div>
        <!--Grid column-->
    <div class="col-lg-1 col-md-6 mb-4 mb-md-0"></div>
        <!--Grid column-->
        <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
        <h5 class="text-uppercase mb-4 pb-1">Contact Us</h5>
    
        <ul class="fa-ul" style="margin-left: 1.65em;">
          <li class="mb-3">
          <span class="fa-li"><i class="fas fa-home"></i></span><span class="ms-2">Brgy San Isidro Luisiana,Laguna</span>
          </li>
          <li class="mb-3">
          <span class="fa-li"><i class="fas fa-envelope"></i></span><span class="ms-2">mayaandme74@gmail.com</span>
          </li>
          <li class="mb-3">
          <span class="fa-li"><i class="fas fa-phone"></i></span><span class="ms-2">09186506362</span>
          </li>
       
        </ul>
        </div>
        <!--Grid column-->
    
        <!--Grid column-->
        <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
        <h5 class="text-uppercase mb-4">Opening hours</h5>
    
        <table class="table text-center text-white">
          <tbody class="font-weight-normal">
          <tr>
            <td>Mon - Thu:</td>
            <td>8am - 9pm</td>
          </tr>
          <tr style="background-color: #C69B68;">
            <td>Fri - Sat:</td>
            <td>8am - 1am</td>
          </tr>
          <tr>
            <td>Sunday:</td>
            <td>9am - 10pm</td>
          </tr>
          </tbody>
        </table>
        </div>
        <!--Grid column-->
      </div>
      <!--Grid row-->
      </div>
      <!-- Grid container -->
    
      <!-- Copyright -->
      <div class="text-center p-3" style="font-weight: bold; background-color: #ffefe4; color: #C69B68;">
      © 2023 Copyright:
      <label style="color: #C69B68;">Maya&Me Services</label>
      </div>
      <!-- Copyright -->
    </footer>
    </div>

  <!-- Include Bootstrap JS and your custom scripts -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script src="scripts/cart.js"></script>
  <script src="scripts/index.js"></script>
</body>
</html>
